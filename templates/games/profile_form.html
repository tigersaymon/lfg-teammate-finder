{% extends "settings_base.html" %}

{% block settings_content %}
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h3>
      {% if form.instance.pk %}Edit Profile: {{ form.instance.game.title }}{% else %}Add New Game Profile{% endif %}
    </h3>
    <a href="{% url 'games:my-profiles' %}" class="btn btn-outline-secondary btn-sm">Cancel</a>
  </div>

  <form method="post" novalidate>
    {% csrf_token %}

{#    Game selection section#}
    <div class="mb-3">
      <label for="{{ form.game.id_for_label }}" class="form-label">Game</label>
      {{ form.game }}
      {% if form.game.errors %}
        <div class="text-danger small">{{ form.game.errors }}</div>
      {% endif %}
      {% if form.instance.pk %}
        <div class="form-text">You cannot change the game while editing. Delete and recreate if needed.</div>
      {% endif %}
    </div>

{#    Main role selection section#}
    <div class="mb-3">
      <label for="{{ form.main_role.id_for_label }}" class="form-label">Main Role</label>
      {{ form.main_role }}
      {% if form.main_role.errors %}
        <div class="text-danger small">{{ form.main_role.errors }}</div>
      {% endif %}
    </div>

{#    Rank typing section#}
    <div class="mb-3">
      <label for="{{ form.rank.id_for_label }}" class="form-label">Rank / MMR</label>
      {{ form.rank }}
      <div class="form-text">Your current in-game rank (e.g. Immortal, Global Elite, Diamond 1).</div>
      {% if form.rank.errors %}
        <div class="text-danger small">{{ form.rank.errors }}</div>
      {% endif %}
    </div>

    <button type="submit" class="btn btn-primary">
      <i class="bi bi-save me-1"></i> Save Profile
    </button>
  </form>

{% endblock %}
